<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>事件处理</title>
</head>
<body >
    <button>click it!</button>
    <!-- <table id="outside">
        <tr>
            <td id="t1">one</td>
        </tr>
        <tr>
            <td id="t2">two</td>
        </tr>

    </table> -->
</body>
<script>
    const btn = document.querySelector('button');
    function random(number){
        return Math.floor(Math.random()*(number+1))//Math.floor()函数总是会返回小于等于给定数字的整数
    }
    btn.addEventListener("focus",()=>{
        // const rnCol = `rgb(${random(255)},${random(255)},${random(255)})`;
        const rnCol = 'rgb('+random(255)+','+random(255)+','+random(255)+')';
        document.body.style.backgroundColor= rnCol;
        console.log("焦点聚焦");
    });
    btn.addEventListener("blur",()=>{
        // const rnCol = `rgb(${random(255)},${random(255)},${random(255)})`;
        const rnCol = 'rgb('+random(255)+','+random(255)+','+random(255)+')';
        document.body.style.backgroundColor= rnCol;
        console.log("焦点丢失");
    });

    // function mode(){
    //     let t2=document.getElementById("t2");
    //     let isNode=t2.firstChild.nodeValue==="three";
    //     t2.firstChild.nodeValue = isNode ? "two":"three";
    // }
    // const e1=document.getElementById("outside");
    // e1.addEventListener("click",mode,false)
    //下方是可被移除的事件监听器
//     const controller = new AbortController();
//     const e1 = document.getElementById("outside");
//     e1.addEventListener("click",modifyText,{signal:controller.signal});
//     function modifyText() {
//         const t2=document.getElementById("t2");
//         if(t2.firstChild.nodeValue==="three"){
          
//          t2.firstChild.nodeValue = "two";
//         } else {
//          t2.firstChild.nodeValue = "three";
//          controller.abort();
//     }
// }
</script>
</html>